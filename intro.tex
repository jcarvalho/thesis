\chapter{Introduction}

For many years, enterprise applications were developed using
two-tiered architectures. In such architectures, there was typically a
mainframe with great computational power, which served requests from
thin clients. As hardware evolved over the years, so did the
development of enterprise applications. Nowadays, most applications
are developed using a three-tier architecture: Data Tier, Application
Tier and Presentation Tier. Despite this separation, most applications
still rely on the Data Tier for transactional support.

With the adoption of multicore architectures over the past few years,
{\it Software Transactional Memory} (STM) has seen many advancements.
Because data persistency is a critical requirement in enterprise
applications, STMs have been extended to collaborate with persistent
storage systems, giving birth to the concept of {\it Persistent
  Software Transactional Memory} \cite{fernandes2011strict}. Thus,
several enterprise applications, such as the FenixEdu\footnote{See
  \url{http://www.fenixedu.org}} web application, are now using
PSTMs for transactional support.

Long-Lived Transactions (LLTs) were first described in 1981 as ``[..]
transactions with lifetimes of a few days or
weeks''\cite{gray1981transaction}, and can be found in many enterprise
applications. Due to their duration, Long-Lived Transactions pose some
challenges not encountered in short transactions, and thus, many
attempts have been made to support them. Despite such attempts,
support is either non existing or lackluster.

In this thesis, I aim at adding support for Long-Lived Transactions in
applications with Rich Domain Models.  A Rich Domain Model is ``An
object model of the domain that incorporates both behaviour and
data.'', as described by \cite{fowler2003patterns}, meaning that
domain objects hold both their data and the business logic that
manipulates them, as opposed to an Anemic Domain Model, in which the
domain objects simply contain data, and the business operations are
handled by a separate Service Layer. Also, in a Rich Domain Model,
each domain object typically has an arbitrarily complex web of
associations, multivalued attributes, inheritance, and is typically a
part of some Object-Oriented design patterns.

The main targets of this work are enterprise applications in which the
domain objects are persistent, transactionally updated, and handled
transparently at an infrastructural level (meaning that the programmer
should be mostly unaware of the persistence/data tier).

\section{Thesis Statement}

My thesis statement is that it is possible to simplify the development
of Long Lived Transactions, by providing infrastructural-level support
on top of a Persistent STM.

I claim that it is possible to provide a way for programmers to
support transparently Long Lived Transactions without the need for
significant modifications to existing code, and with performance
results comparable to those of regular transactions.

\section{Contributions}

The contribution of this dissertation is a solution that will allow
programmers to develop Long Lived Transactions with minimal effort
using the Fenix Framework. The major highlights of this contribution
are:

\begin{itemize}

\item Infrastructural-level support for Long Lived
  Transactions

\item Add Long Lived Transaction support to existing applications with
  minimal code modifications

\item A simple API to manage the life-cycle of Long Lived Transactions

\item Support for multiple concurrent users working on a Long Lived
  Transaction

\item Small overhead on the execution of the Long Lived Transaction's
  steps

\end{itemize}

\section{Document Structure}

The remainder of this document is organized as follows:

\begin{itemize}

\item {\bf Chapter 2} describes what Long Lived Transactions are, why
  they are difficult to implement and the requirements for the solution.

\item {\bf Chapter 3} presents existing work on Long Lived
  Transactions, and discusses why they are not well suited to solve
  the problem at hand.

\item {\bf Chapter 4} describes the components of the Fenix Framework,
  which is the Framework used to implement the approach that I propose
  in this work.

\item {\bf Chapter 5} proposes an extension to the Fenix Framework to
  support Long Lived Transactions.

\item {\bf Chapter 6} presents some benchmarks for the proposed
  solution and some optimizations.

\item {\bf Chapter 7} describes a few ideas for further enhancement of
  the proposed solution.

\item {\bf Chapter 8} draws some conclusions from this work.

\end{itemize}